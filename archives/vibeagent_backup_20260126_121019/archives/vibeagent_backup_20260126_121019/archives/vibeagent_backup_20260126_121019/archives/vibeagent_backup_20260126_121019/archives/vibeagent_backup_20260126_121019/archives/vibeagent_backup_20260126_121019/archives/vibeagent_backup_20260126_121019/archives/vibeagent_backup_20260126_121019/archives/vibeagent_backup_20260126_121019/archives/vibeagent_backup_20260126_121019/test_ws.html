<!DOCTYPE html>
<html>
<head><title>WebSocket Test</title></head>
<body>
<h1>WebSocket Test</h1>
<div id="messages"></div>
<script>
const ws = new WebSocket('ws://localhost:9000/ws');

ws.onopen = () => {
  log('âœ… Connected');
  ws.send(JSON.stringify({type: 'message', content: 'Test from browser'}));
};

ws.onmessage = (e) => {
  log('ðŸ“¥ ' + e.data);
};

ws.onerror = (e) => log('âŒ Error');

ws.onclose = () => log('ðŸ”Œ Disconnected');

function log(msg) {
  const div = document.createElement('div');
  div.textContent = msg;
  document.getElementById('messages').appendChild(div);
  console.log(msg);
}
</script>
</body>
</html>